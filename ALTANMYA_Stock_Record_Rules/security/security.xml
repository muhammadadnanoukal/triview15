<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="tanmya_stock_loc_wh_category" model="ir.module.category">
        <field name="name">ALTANMYA Inventory Restricted Rules</field>
        <field name="description">Users have access to warehouse and location records.</field>
    </record>
    <record model="res.groups" id="stock_loc_wh_group">
        <field name="name">Restricted Location Users Group</field>
        <field name="category_id" ref="ALTANMYA_Stock_Record_Rules.tanmya_stock_loc_wh_category"/>
    </record>
    <record id="tanmya_stock_location_ir_rule" model="ir.rule">
        <field name="name">ALTANMYA stock location rule</field>
        <field name="model_id" ref="model_stock_location"/>
        <field name="domain_force">['|', '|', '&amp;', ('warehouse_id.users_have_access','=',False), '|', ('users_have_access','=',False), ('users_have_access','in',user.id), '&amp;', ('warehouse_id.users_have_access','in',user.id), '|', ('users_have_access','=',False), ('users_have_access','in',user.id), '&amp;', ('warehouse_id','=',False), '|', ('users_have_access','=',False), ('users_have_access','in',user.id)]</field>
        <field name="groups" eval="[(4, ref('stock_loc_wh_group'))]"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_unlink" eval="True"/>
    </record>
    <record id="tanmya_stock_warehouse_ir_rule" model="ir.rule">
        <field name="name">ALTANMYA stock warehouse rule</field>
        <field name="model_id" ref="model_stock_warehouse"/>
        <field name="domain_force">['|' ,('users_have_access', '=', False), ('users_have_access', 'in', user.id)]</field>
        <field name="groups" eval="[(4, ref('stock_loc_wh_group'))]"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_unlink" eval="True"/>
    </record>
    <record id="tanmya_stock_report_quant_ir_rule" model="ir.rule">
        <field name="name">ALTANMYA stock report rule</field>
        <field name="model_id" ref="model_stock_quant"/>
        <field name="domain_force">['|', '|', '&amp;', ('location_id.warehouse_id.users_have_access', '=', False), '|', ('location_id.users_have_access', '=', False), ('location_id.users_have_access', 'in', user.id), '&amp;', ('location_id.warehouse_id.users_have_access', 'in', user.id), '|', ('location_id.users_have_access', '=', False), ('location_id.users_have_access', 'in', user.id), '&amp;', ('location_id.warehouse_id', '=', False), '|', ('location_id.users_have_access', '=', False), ('location_id.users_have_access', 'in', user.id)]</field>
        <field name="groups" eval="[(4, ref('stock_loc_wh_group'))]"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_unlink" eval="True"/>
    </record>
    <record id="tanmya_stock_picking_ir_rule" model="ir.rule">
        <field name="name">ALTANMYA stock picking rule</field>
        <field name="model_id" ref="model_stock_picking"/>
        <field name="domain_force">['|' ,('picking_type_id.users_have_access', '=', False), ('picking_type_id.users_have_access', 'in', user.id)]</field>
        <field name="groups" eval="[(4, ref('stock_loc_wh_group'))]"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_unlink" eval="True"/>
    </record>
    <record id="tanmya_stock_picking_type_ir_rule" model="ir.rule">
        <field name="name">ALTANMYA stock picking type rule</field>
        <field name="model_id" ref="model_stock_picking_type"/>
        <field name="domain_force">['|' ,('users_have_access', '=', False), ('users_have_access', 'in', user.id)]</field>
        <field name="groups" eval="[(4, ref('stock_loc_wh_group'))]"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_unlink" eval="True"/>
    </record>
    <record id="tanmya_stock_move_ir_rule" model="ir.rule">
        <field name="name">ALTANMYA stock move rule</field>
        <field name="model_id" ref="model_stock_move"/>
        <field name="domain_force">['|' ,('picking_type_id.users_have_access', '=', False), ('picking_type_id.users_have_access', 'in', user.id)]</field>
        <field name="groups" eval="[(4, ref('stock_loc_wh_group'))]"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_unlink" eval="True"/>
    </record>
    <record id="tanmya_stock_move_line_ir_rule" model="ir.rule">
        <field name="name">ALTANMYA stock move line rule</field>
        <field name="model_id" ref="model_stock_move_line"/>
        <field name="domain_force">['|' ,('picking_type_id.users_have_access', '=', False), ('picking_type_id.users_have_access', 'in', user.id)]</field>
        <field name="groups" eval="[(4, ref('stock_loc_wh_group'))]"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_unlink" eval="True"/>
    </record>
</odoo>